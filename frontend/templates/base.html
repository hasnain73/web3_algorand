<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}ComplianceEngine{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Syne:wght@400;600;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body>

    <nav class="nav">
        <a href="/" class="nav-brand">
            <span class="brand-icon">◈</span>
            <span>ComplianceEngine</span>
        </a>
        <div class="nav-links">
            <a href="/" class="nav-link">Dashboard</a>
            <a href="/create" class="nav-link">Create</a>
            <a href="/approve" class="nav-link">Approve</a>
            <a href="/certify" class="nav-link">Certify</a>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <span class="theme-icon">◑</span>
        </button>
    </nav>

    <main class="main">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <span>ComplianceEngine · Algorand ARC4 · Testnet</span>
        <span class="footer-dot">◆</span>
        <span>Built with AlgoKit</span>
    </footer>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            html.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
            localStorage.setItem('theme', html.getAttribute('data-theme'));
        }
        // Restore saved theme
        const saved = localStorage.getItem('theme');
        if (saved) document.documentElement.setAttribute('data-theme', saved);
    </script>
</body>

</html>